<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-config-options/cloud-providers/azure/azure">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Azure Cloud Provider | RKE1</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rke.docs.rancher.com//config-options/cloud-providers/azure"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Azure Cloud Provider | RKE1"><meta data-rh="true" name="description" content="To enable the Azure cloud provider, besides setting the name as azure, there are specific configuration options that must be set. Additionally, the Azure node name must also match the Kubernetes node name."><meta data-rh="true" property="og:description" content="To enable the Azure cloud provider, besides setting the name as azure, there are specific configuration options that must be set. Additionally, the Azure node name must also match the Kubernetes node name."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://rke.docs.rancher.com//config-options/cloud-providers/azure"><link data-rh="true" rel="alternate" href="https://rke.docs.rancher.com//config-options/cloud-providers/azure" hreflang="en"><link data-rh="true" rel="alternate" href="https://rke.docs.rancher.com//config-options/cloud-providers/azure" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.52ec3bf5.css">
<link rel="preload" href="/assets/js/runtime~main.2b1e2a92.js" as="script">
<link rel="preload" href="/assets/js/main.aa2ef175.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-horizontal-rke.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-horizontal-rke.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/">Docs</a><a href="https://github.com/rancher/rke1-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Overview of RKE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/os">Requirements</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/installation">RKE Kubernetes Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;RKE Kubernetes Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/upgrades">Upgrades</a><button aria-label="Toggle the collapsible sidebar category &#x27;Upgrades&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kubeconfig">Kubeconfig File</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/etcd-snapshots">Backups and Disaster Recovery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backups and Disaster Recovery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cert-mgmt">Certificate Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/managing-clusters">Adding and Removing Nodes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/config-options">Kubernetes Configuration Options</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Configuration Options&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/nodes">Nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/private-registries">Private Registries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/bastion-host">Bastion/Jump Host Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/system-images">System Images</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/config-options/services">Default Kubernetes Services</a><button aria-label="Toggle the collapsible sidebar category &#x27;Default Kubernetes Services&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/secrets-encryption">Encrypting Secret Data at Rest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/authentication">Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/authorization">Authorization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/rate-limiting">Rate Limiting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/config-options/cloud-providers">Cloud Providers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Providers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/cloud-providers/aws">AWS Cloud Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/config-options/cloud-providers/azure">Azure Cloud Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/cloud-providers/openstack">OpenStack Cloud Provider</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/config-options/cloud-providers/vsphere">vSphere Cloud Provider</a><button aria-label="Toggle the collapsible sidebar category &#x27;vSphere Cloud Provider&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/cloud-providers/custom">Custom Cloud Provider</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/audit-log">Audit Log</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/config-options/dual-stack">Dual-stack</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/config-options/add-ons">Add-Ons</a><button aria-label="Toggle the collapsible sidebar category &#x27;Add-Ons&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/example-yamls">Example Cluster.ymls</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/config-options"><span itemprop="name">Kubernetes Configuration Options</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/config-options/cloud-providers"><span itemprop="name">Cloud Providers</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Azure Cloud Provider</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Azure Cloud Provider</h1></header><p>To enable the Azure cloud provider, besides setting the name as <code>azure</code>, there are specific configuration options that must be set. Additionally, the Azure node name must also match the Kubernetes node name.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">cloud_provider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> azure</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">azureCloudProvider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">aadClientId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">aadClientSecret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">resourceGroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">subnetName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">subscriptionId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">vnetName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">tenantId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">securityGroupName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> xxxxxxxxx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overriding-the-hostname">Overriding the hostname<a class="hash-link" href="#overriding-the-hostname" title="Direct link to heading">​</a></h2><p>Since the Azure node name must match the Kubernetes node name, you override the Kubernetes name on the node by setting the <code>hostname_override</code> for each node. If you do not set the <code>hostname_override</code>, the Kubernetes node name will be set as the <code>address</code>, which will cause the Azure cloud provider to fail.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">nodes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">address</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x.x.x.x</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">hostname_override</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> azure</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">rke1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ubuntu</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">role</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> controlplane</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> etcd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> worker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-configuration-options">Azure Configuration Options<a class="hash-link" href="#azure-configuration-options" title="Direct link to heading">​</a></h2><p>Besides the minimum set of options, there are many other options that are supported in RKE:</p><table><thead><tr><th align="center">Azure Configuration Options</th><th align="center">Type</th><th align="center">Required</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">tenantId</td><td align="center">string</td><td align="center">*</td><td align="center">The Azure Active Directory (Azure AD) tenant ID for the subscription that the cluster is deployed in.</td></tr><tr><td align="center">subscriptionId</td><td align="center">string</td><td align="center">*</td><td align="center">The ID of the Azure subscription that the cluster is deployed in.</td></tr><tr><td align="center">aadClientId</td><td align="center">string</td><td align="center">*</td><td align="center">The client ID for an Azure AD application with RBAC access to talk to Azure Resource Manager APIs. This is used for <a href="https://github.com/Azure/aks-engine/blob/master/docs/topics/service-principals.md" target="_blank" rel="noopener noreferrer">service principal</a> authentication.</td></tr><tr><td align="center">aadClientSecret</td><td align="center">string</td><td align="center">*</td><td align="center">The client secret for an Azure AD application with RBAC access to talk to Azure Resource Manager APIs. This is used for <a href="https://github.com/Azure/aks-engine/blob/master/docs/topics/service-principals.md" target="_blank" rel="noopener noreferrer">service principal</a> authentication.</td></tr><tr><td align="center">cloud</td><td align="center">string</td><td align="center"></td><td align="center">The cloud environment identifier. Takes values from <a href="https://github.com/Azure/go-autorest/blob/ec5f4903f77ed9927ac95b19ab8e44ada64c1356/autorest/azure/environments.go#L13" target="_blank" rel="noopener noreferrer">here</a>.</td></tr><tr><td align="center">resourceGroup</td><td align="center">string</td><td align="center"></td><td align="center">The name of the resource group that the Vnet is deployed in.</td></tr><tr><td align="center">location</td><td align="center">string</td><td align="center"></td><td align="center">The location of the resource group that the cluster is deployed in.</td></tr><tr><td align="center">vnetName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the virtual network that the cluster is deployed in.</td></tr><tr><td align="center">vnetResourceGroup</td><td align="center">string</td><td align="center"></td><td align="center">The name of the resource group that the virtual network is deployed in.</td></tr><tr><td align="center">subnetName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the subnet that the cluster is deployed in.</td></tr><tr><td align="center">securityGroupName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the security group attached to the cluster&#x27;s subnet.</td></tr><tr><td align="center">routeTableName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the route table attached to the subnet that the cluster is deployed in.</td></tr><tr><td align="center">primaryAvailabilitySetName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the availability set that should be used as the load balancer backend. If this is set, the Azure cloud provider will only add nodes from that availability set to the load balancer backend pool. If this is not set, and multiple agent pools (availability sets) are used, then the cloud provider will try to add all nodes to a single backend pool which is forbidden. In other words, if you use multiple agent pools (availability sets), you <strong>must</strong> set this field.</td></tr><tr><td align="center">vmType</td><td align="center">string</td><td align="center"></td><td align="center">The type of Azure nodes. Candidate values are: <code>vmss</code> and <code>standard</code>. If not set, it will be default to <code>standard</code>. Set to <code>vmss</code> if the cluster is running on <a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/overview" target="_blank" rel="noopener noreferrer">Azure virtual machine scale sets</a> instead of standard machines.</td></tr><tr><td align="center">primaryScaleSetName</td><td align="center">string</td><td align="center"></td><td align="center">The name of the scale set that should be used as the load balancer backend. If this is set, the Azure cloud provider will only add nodes from that scale set to the load balancer backend pool. If this is not set, and multiple agent pools (scale sets) are used, then the cloud provider will try to add all nodes to a single backend pool which is forbidden. In other words, if you use multiple agent pools (scale sets), you <strong>must</strong> set this field.</td></tr><tr><td align="center">aadClientCertPath</td><td align="center">string</td><td align="center"></td><td align="center">The path of a client certificate for an Azure AD application with RBAC access to talk to Azure Resource Manager APIs. This is used for <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-protocols-oauth-service-to-service" target="_blank" rel="noopener noreferrer">client certificate authentication</a>.</td></tr><tr><td align="center">aadClientCertPassword</td><td align="center">string</td><td align="center"></td><td align="center">The password of the client certificate for an Azure AD application with RBAC access to talk to Azure Resource Manager APIs. This is used for <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-protocols-oauth-service-to-service" target="_blank" rel="noopener noreferrer">client certificate authentication</a>.</td></tr><tr><td align="center">cloudProviderBackoff</td><td align="center">bool</td><td align="center"></td><td align="center">Enable exponential backoff to manage resource request retries.</td></tr><tr><td align="center">cloudProviderBackoffRetries</td><td align="center">int</td><td align="center"></td><td align="center">Backoff retry limit.</td></tr><tr><td align="center">cloudProviderBackoffExponent</td><td align="center">int</td><td align="center"></td><td align="center">Backoff exponent.</td></tr><tr><td align="center">cloudProviderBackoffDuration</td><td align="center">int</td><td align="center"></td><td align="center">Backoff duration.</td></tr><tr><td align="center">cloudProviderBackoffJitter</td><td align="center">int</td><td align="center"></td><td align="center">Backoff jitter.</td></tr><tr><td align="center">cloudProviderRateLimit</td><td align="center">bool</td><td align="center"></td><td align="center">Enable rate limiting.</td></tr><tr><td align="center">cloudProviderRateLimitQPS</td><td align="center">int</td><td align="center"></td><td align="center">Rate limit QPS.</td></tr><tr><td align="center">cloudProviderRateLimitBucket</td><td align="center">int</td><td align="center"></td><td align="center">Rate limit bucket Size.</td></tr><tr><td align="center">useInstanceMetadata</td><td align="center">bool</td><td align="center"></td><td align="center">Use instance metadata service where possible.</td></tr><tr><td align="center">useManagedIdentityExtension</td><td align="center">bool</td><td align="center"></td><td align="center">Use managed service identity for the virtual machine to access Azure Resource Manager APIs. This is used for <a href="https://docs.microsoft.com/en-us/azure/active-directory/managed-service-identity/overview" target="_blank" rel="noopener noreferrer">managed identity authentication</a>. For user-assigned managed identity, <code>UserAssignedIdentityID</code> needs to be set.</td></tr><tr><td align="center">UserAssignedIdentityID</td><td align="center">string</td><td align="center"></td><td align="center">The client ID of the user assigned Managed Service Identity (MSI) which is assigned to the underlying VMs. This is used for <a href="https://docs.microsoft.com/en-us/azure/active-directory/managed-service-identity/overview" target="_blank" rel="noopener noreferrer">managed identity authentication</a>.</td></tr><tr><td align="center">maximumLoadBalancerRuleCount</td><td align="center">int</td><td align="center"></td><td align="center">The limit enforced by Azure Load balancer. The default is <code>0</code> and maximum is <code>148</code>.</td></tr><tr><td align="center">LoadBalancerSku</td><td align="center">string</td><td align="center"></td><td align="center">SKU of the load balancer and public IP. Valid values are  <code>basic</code> or <code>standard</code>. Default(blank) to <code>basic</code>.</td></tr><tr><td align="center">ExcludeMasterFromStandardLB</td><td align="center">bool</td><td align="center"></td><td align="center">Excludes master nodes (labeled with <code>node-role.kubernetes.io/master</code>) from the backend pool of Azure standard loadbalancer. Defaults to <code>nil</code>.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rke1-docs/edit/main/docs/config-options/cloud-providers/azure/azure.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-03-01T00:15:30.000Z">3/1/2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/config-options/cloud-providers/aws"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">AWS Cloud Provider</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/config-options/cloud-providers/openstack"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenStack Cloud Provider</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overriding-the-hostname" class="table-of-contents__link toc-highlight">Overriding the hostname</a></li><li><a href="#azure-configuration-options" class="table-of-contents__link toc-highlight">Azure Configuration Options</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2b1e2a92.js"></script>
<script src="/assets/js/main.aa2ef175.js"></script>
</body>
</html>