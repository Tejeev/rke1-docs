"use strict";(self.webpackChunkrke_docs=self.webpackChunkrke_docs||[]).push([[1259],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=o.createContext({}),c=function(e){var t=o.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),m=n,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||i;return r?o.createElement(f,a(a({ref:t},p),{},{components:r})):o.createElement(f,a({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,a[1]=s;for(var c=2;c<i;c++)a[c]=r[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},7096:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=r(3117),n=(r(7294),r(3905));const i={title:"Provisioning Errors"},a=void 0,s={unversionedId:"troubleshooting/provisioning-errors/provisioning-errors",id:"troubleshooting/provisioning-errors/provisioning-errors",title:"Provisioning Errors",description:"Failed to get job complete status",source:"@site/docs/troubleshooting/provisioning-errors/provisioning-errors.md",sourceDirName:"troubleshooting/provisioning-errors",slug:"/troubleshooting/provisioning-errors/",permalink:"/troubleshooting/provisioning-errors/",draft:!1,editUrl:"https://github.com/rancher/rke1-docs/edit/main/docs/troubleshooting/provisioning-errors/provisioning-errors.md",tags:[],version:"current",lastUpdatedAt:1690506843,formattedLastUpdatedAt:"Jul 28, 2023",frontMatter:{title:"Provisioning Errors"},sidebar:"mySidebar",previous:{title:"SSH Connectivity Errors",permalink:"/troubleshooting/ssh-connectivity-errors/"}},l={},c=[{value:"Failed to get job complete status",id:"failed-to-get-job-complete-status",level:3},{value:"Failed to apply the ServiceAccount needed for job execution",id:"failed-to-apply-the-serviceaccount-needed-for-job-execution",level:3}],p={toc:c},u="wrapper";function d(e){let{components:t,...r}=e;return(0,n.kt)(u,(0,o.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h3",{id:"failed-to-get-job-complete-status"},"Failed to get job complete status"),(0,n.kt)("p",null,"Most common reason for this error is that a node is having issues that block the deploy job from completing successfully. See ",(0,n.kt)("a",{parentName:"p",href:"https://ranchermanager.docs.rancher.com/troubleshooting/other-troubleshooting-tips/kubernetes-resources#get-node-conditions"},"Get node conditions")," how to check node conditions."),(0,n.kt)("p",null,"You can also retrieve the log from the job to see if it has an indication of the error, make sure you replace ",(0,n.kt)("inlineCode",{parentName:"p"},"rke-network-plugin-deploy-job")," with the job name from the error:"),(0,n.kt)("p",null,"Example command to get logs for error ",(0,n.kt)("inlineCode",{parentName:"p"},"Failed to get job complete status for job rke-network-plugin-deploy-job"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"kubectl -n kube-system get pods -l job-name=rke-network-plugin-deploy-job --no-headers -o custom-columns=NAME:.metadata.name | xargs -L1 kubectl -n kube-system logs\n")),(0,n.kt)("h3",{id:"failed-to-apply-the-serviceaccount-needed-for-job-execution"},"Failed to apply the ServiceAccount needed for job execution"),(0,n.kt)("p",null,"Because this action requires connectivity from the host running ",(0,n.kt)("inlineCode",{parentName:"p"},"rke up")," to the controlplane nodes, this is usually caused by incorrect proxy configuration on the host running ",(0,n.kt)("inlineCode",{parentName:"p"},"rke up"),". The message printed after this error usually is the response from the proxy that is blocking the request. Please verify the ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTP_PROXY"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"HTTPS_PROXY")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"NO_PROXY")," environment variables are correctly configured, especially ",(0,n.kt)("inlineCode",{parentName:"p"},"NO_PROXY")," if the host cannot reach the controlplane nodes via the configured proxy. (this IP range then needs to be added to ",(0,n.kt)("inlineCode",{parentName:"p"},"NO_PROXY")," to make it work)"))}d.isMDXComponent=!0}}]);